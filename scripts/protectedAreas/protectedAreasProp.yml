script: protectedAreasProp.R
description: This script creates a raster layer showing the proportion of protected areas (PAs) within a given pixel size
inputs:
 country:
    label: country
    description: Country of interest, it can be names (e.g., "Canada") or ISO-3 codes (e.g., CAN) see https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3
    type: text
    example: Canada
 bbox:
    label: bbox coordinates
    description: geographic coordinates of the bbox, in the order xmin, ymin, xmax, ymax.
    type: float[]
    example: [-79.76281,  44.99137, -57.10549, 62.58277]
 crs: 
    label: crs
    description: target coordinate reference system, two formats "EPSG:6623" or "+proj=aea +lat_0=44 +lon_0=-68.5 +lat_1=60 +lat_2=46 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs"
    type: text
    example: EPSG:6623
 pixel_size:
    label: spatial resolution output
    description: Pixel size (in meters)
    type: int
    example: 1000
 habitat_type:
    label: habitat type
    description: type of habitat. 0 == "terrestrial" (The protected area is completely within the terrestrial and/or freshwater environments), 1 = 'partial' (The protected area is partially within the marine environment (coastal), 2 == "marine" (The protected area is completely within the marine environment). By default ALL included.
    type: text[]
    example: ["terrestrial", "partial", "marine"]
 status:
    label: protected area status
    description: protected area status "Designated", "Proposed", "Established", "Inscribed", "Adopted", see https://wdpa.s3-eu-west-1.amazonaws.com/WDPA_Manual/English/WDPA_WDOECM_Manual_1_6.pdf for definitions. By default ALL status.
    type: text[]
    example: ["Designated", "Proposed", "Established", "Inscribed", "Adopted"]
outputs:
  output_tif:
    label: protected areas
    description: Raster where each pixel varies between 0 and 1, according to the proportion of protected areas within. 
    type: image/tiff;application=geotiff
    example: Protected_areas_prop.tif
references:
  - text: UNEP-WCMC, IUCN (2023). Protected Planet, The World Database on Protected Areas (WDPA).
    doi: https://www.protectedplanet.net/en
  - text: wdpar R package, it is a interface to the World Database on Protected Areas (fetch and clean data from the wdpa)
    doi: https://cran.r-project.org/web/packages/wdpar/vignettes/wdpar.html
  - text: Hanson JO (2022). “wdpar", Interface to the World Database on Protected Areas.” Journal of Open Source Software, 7, 4594.
    doi: https://joss.theoj.org/papers/10.21105/joss.04594
  - text: perpr R package to augment data cleaning procedures.
    doi: https://github.com/dickoa/prepr