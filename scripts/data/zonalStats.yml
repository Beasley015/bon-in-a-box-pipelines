script: zonalStats.R
name: Zonal statistics
description: "Extract items and calculate zonal statistics from various collections on the GEO BON Stac Catalog."
author:
  - name: Jory Griffith
    identifier: https://orcid.org/0000-0001-6020-6690
inputs:
  stac_url:
    label: stac_url
    description: URL of the Stac catalog
    type: text
    example: https://stac.geobon.org/
  bbox:
     label: bbox
     description: Vector of float, bbox coordinates of the extent in the order xmin, ymin, xmax, ymax
     type: float[]
     example: null
  study_area_polygon:
    label: Polygon of study area
    description: Polygon of the study area of interest
    type: application/geo+json
  collections_items:
    label: collections_items
    description: Vector of strings, collection name followed by '|' followed by item id
    type: text[]
    example: [bii_nhm|bii_nhm_10km_2000, bii_nhm|bii_nhm_10km_2005, bii_nhm|bii_nhm_10km_2010, bii_nhm|bii_nhm_10km_2015, bii_nhm|bii_nhm_10km_2020]
  summary_statistic: 
    label: Summary statistic
    description: Summary statistic for layers
    type: options
    options:
    - mean
    - median
    - mode
    example: mean
outputs:
  rasters:
     label: Rasters
     description: array of output raster paths
     type: image/tiff;application=geotiff[]
  stats:
    label: Summary statistic
    description: Summary statistic in the polygon
    type: text/csv
  