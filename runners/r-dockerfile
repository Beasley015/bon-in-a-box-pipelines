FROM rocker/geospatial:dev-osgeo

# Additionnal R packages
RUN R -e 'install.packages(c( \
    "rjson", "RCurl", "rstac", "rgbif", "CoordinateCleaner", "dismo", "ENMeval", "gdalUtils", "ggsci", "landscapemetrics", "geodata", "rredlist", "gdalUtilities", "OpenStreetMap", \
    \
    # Used to extract protected areas raster in protectedAreas/protectedAreasProp.R
    "wdpar",  \
    \
    # Used by wdpar
    "exactextractr",  \
    "wdman" \
    ));'

RUN R -e 'devtools::install_github("appelmar/gdalcubes_R")'
RUN R -e 'devtools::install_github("ReseauBiodiversiteQuebec/stac-catalogue")'
RUN R -e 'devtools::install_github("gearslaboratory/gdalUtils")'

# For for installation of prepr for protectedAreas/protectedAreasProp.R
RUN apt-get update; \
    apt-get install -y libgmp3-dev libmpfr-dev libudunits2-dev libgdal-dev libgeos-dev libproj-dev; \
    apt-get clean all;

